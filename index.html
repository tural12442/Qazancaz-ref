<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title id="pageTitle">Qazanc AZ | Neon Dizayn</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<script src="//libtl.com/sdk.js" data-zone="10024800" data-sdk="show_10024800"></script>
<style>
/* YENƒ∞ R∆èNG PALƒ∞TRASI: Neon Red & Clean White */
:root{
  --bg-start:#ffffff; /* Pure White */
  --bg-end:#f0f0f5;   /* Light Grayish White */
  --card-bg:#ffffff;  /* Solid White Card */
  --card-border:#e0e0e0;
  --btn-gradient-start:#FF0033; /* Neon Red Bright */
  --btn-gradient-end:#C0002F;   /* Deep Red */
  --btn-shadow:rgba(255,0,51,0.6);
  --text-light:#ffffff;
  --text-dark:#1a1a1a; /* Dark Text for high contrast */
  --accent:#FF3366; /* Bright Pinkish Red Accent */
  --shadow-color:rgba(0,0,0,0.1);
}
*{box-sizing:border-box;margin:0;padding:0;}
body{
  font-family:'Inter',sans-serif;
  background:linear-gradient(135deg,var(--bg-start),var(--bg-end));
  background-size:400% 400%;
  animation:bgMove 18s ease infinite;
  color:var(--text-dark);
  min-height:100vh;
  user-select:none;
  -webkit-user-select:none;
  -webkit-tap-highlight-color:transparent;
}
@keyframes bgMove{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}
.container{max-width:480px;margin:auto;padding:20px;padding-top:60px;} 

/* Dƒ∞L SE√áƒ∞Mƒ∞ Dƒ∞ZAYNI */
.lang-switcher{
    position:fixed;top:20px;right:20px;
    z-index:1000;
    display:flex;
    background:var(--card-bg);
    border-radius:15px;
    padding:3px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
.lang-switcher button{
    padding:8px 12px;
    border:none;
    background:transparent;
    font-weight:700;
    font-size:14px;
    cursor:pointer;
    border-radius:12px;
    transition:background-color 0.3s, color 0.3s;
    color:#777;
}
.lang-switcher button.active{
    background:var(--accent);
    color:var(--text-light);
    box-shadow: 0 2px 8px rgba(255,51,102,0.5);
}

.page{display:none;animation:fadeIn .4s ease;}
.page.active{display:block;}
@keyframes fadeIn{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}

/* Balans Kartƒ± */
.balance-card{
  background:var(--card-bg);
  border-radius:25px;
  padding:25px 20px;
  margin-bottom:30px;
  box-shadow:0 12px 25px var(--shadow-color), 0 0 30px rgba(255,51,102,0.1); 
  text-align:center;
  border:1px solid var(--card-border);
  pointer-events:none;
}
.balance-card h3{font-size:18px;color:var(--text-dark);margin-bottom:8px;letter-spacing:1px; font-weight: 600;}
.balance-card .amount{font-size:42px;font-weight:900;margin-top:5px;color:var(--accent);text-shadow:0 0 5px rgba(255,51,102,0.4);}
.balance-card .usd{font-size:16px;color:var(--text-dark);margin-top:8px; font-weight: 700;}

/* √úmumi Kart Dizaynƒ± */
.ad-card, .task-card{
  background:var(--card-bg);
  border-radius:20px;
  padding:20px;
  box-shadow:0 8px 16px var(--shadow-color);
  border:1px solid var(--card-border);
  margin-bottom:15px;
  transition: transform 0.3s ease;
}
.ad-card:hover, .task-card:hover {
    transform: translateY(-3px);
    box-shadow:0 12px 25px rgba(0,0,0,0.15);
}

.ad-card h2, .task-card h2{font-size:20px;color:var(--text-dark);margin-bottom:8px;font-weight:800;}
.ad-card p, .task-card p{margin:4px 0;color:var(--text-dark);font-size:14px;}
.stats{display:flex;justify-content:space-around;margin-top:15px;padding:10px 0;}
.stat{background:var(--bg-end);border-radius:12px;padding:12px 18px; min-width: 120px;}
.stat span{display:block;font-size:20px;font-weight:900;color:var(--accent);}
.stat label{font-size:12px;color:var(--text-dark);}
.progress{height:12px;background:#e0e0e0;border-radius:6px;overflow:hidden;margin-top:15px;}
.progress-fill{height:100%;background:linear-gradient(90deg, #4CAF50, #8BC34A);width:0%;transition:width .4s;}

/* ∆èSAS D√úYM∆èL∆èR (Neon Qƒ±rmƒ±zƒ±) */
.ad-btn, #form button{
  width:100%;
  margin-top:15px;
  padding:15px;
  font-size:16px;
  font-weight:900;
  border:none;
  border-radius:18px;
  color:var(--text-light); 
  cursor:pointer;
  transition:0.3s;
  background:linear-gradient(90deg,var(--btn-gradient-start),var(--btn-gradient-end));
  box-shadow:0 0 20px var(--btn-shadow);
  text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
}
.ad-btn:hover:not(.waiting), #form button:hover{
    transform:scale(1.02);
    box-shadow:0 0 30px var(--btn-shadow);
}

/* TAP≈ûIRIQ D√úYM∆èL∆èRƒ∞ */
.task-card button{
  background:linear-gradient(90deg,#5B86E5,#36D1DC); 
  color:var(--text-light);
}
.task-card button.completed{background:#b0b0b0 !important;color:#777 !important;box-shadow:none !important;}

/* MENU Dƒ∞ZAYNI */
.menu{
    position:fixed;bottom:20px;left:50%;transform:translateX(-50%);
    width:90%;
    display:flex;justify-content:space-around;
    background:var(--card-bg);
    padding:10px;
    border-radius:30px;
    box-shadow:0 6px 30px var(--shadow-color);
    border: 1px solid var(--card-border);
}
.menu button{
    flex:1;margin:0 6px;padding:12px 0;
    border:none;border-radius:20px;
    background:transparent;
    color:var(--text-dark);
    font-weight:700;
    transition:0.3s;
}
.menu button.active{
    background:linear-gradient(90deg,var(--btn-gradient-start),var(--btn-gradient-end));
    color:var(--text-light); 
    box-shadow:0 0 15px var(--btn-shadow);
}

/* √áIXARI≈û METODLARI Dƒ∞ZAYNI */
.method-list{
    display:flex; flex-wrap:wrap; justify-content: space-between;
    gap:15px;margin:20px 0;
}
.method{
    flex: 0 0 calc(50% - 7.5px); 
    background:var(--card-bg); 
    border-radius:18px;
    padding:15px;
    height: 120px;
    display:flex; flex-direction: column; align-items: center; justify-content: center;
    box-shadow: 0 4px 10px var(--shadow-color);
    border: 1px solid var(--card-border);
    transition: all 0.3s ease;
}
.method:hover{
    transform:scale(1.03);
    background:var(--bg-end);
}
.method-logo{
    width: 45px; 
    height: 45px;      
    margin-bottom: 8px;
    border-radius: 10px; 
    object-fit: contain; 
    background-color: var(--card-bg);
    padding: 3px; 
    box-shadow: 0 0 5px rgba(0,0,0,0.1);
}
.method-logo.bank-logo { border-radius: 8px; }
.method-text { font-size: 14px; font-weight: 800; color: var(--text-dark);}

/* Form elementl…ôri */
#form input{
    background:var(--bg-end);
    color:var(--text-dark);
    border:1px solid var(--card-border);
    padding:15px;
    border-radius:15px;
    font-size:16px;
    box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
}
#form input::placeholder {color: #777;}
#form button{ margin-top: 15px;}
#backBtn {
    color: var(--accent) !important; 
    font-weight: 800; 
    text-shadow: 0 0 5px rgba(255, 51, 102, 0.5);
    transition: color 0.3s;
}
#backBtn:hover {
    color: #ff88a3 !important;
}

/* Alertl…ôr */
.alert.error{background:#a70000;color:#fff;}
.alert.success{background:#1e8449;color:#fff;}

/* LOADING SCREEN CSS */
#loadingScreen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #100000, #300000 70%); 
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 99999;
    backdrop-filter: blur(6px);
    transition: opacity .7s ease; 
    opacity: 1; 
}
.loader-box{text-align:center;animation:fadeIn .8s ease;position:relative;}
.loader-title{font-size:40px;font-weight:900;color:var(--accent);letter-spacing:2px;text-shadow:0 0 12px var(--accent), 0 0 35px rgba(255,51,102,0.9);margin-bottom:32px;}
.loader-fill{
    background:linear-gradient(90deg,#ff6699,#ff3366,#cc0033);
    animation:fillAnim 3s forwards ease-in-out;
}
.loader-text{margin-top:14px;font-size:17px;color:#fff;letter-spacing:1px;animation:blink 1.4s infinite;}
</style>
</head>
<body>
<div class="lang-switcher">
    <button id="langAzBtn" class="active" onclick="setLang('az')">AZ</button>
    <button id="langEnBtn" onclick="setLang('en')">EN</button>
</div>

<div id="loadingScreen">
  <div class="loader-box">
    <div class="shine-circle"></div>
    <div class="loader-title">Qazanc AZ</div>
    <div class="loader-bar">
      <div class="loader-fill"></div>
      <div class="glow"></div>
    </div>
    <div class="loader-text" data-translate-key="loading">Y√ºkl…ônir...</div>
  </div>
</div>

<div class="container">
  <div id="adsPage" class="page active">
    <div class="balance-card">
      <h3 data-translate-key="currentBalance">Cari Balansƒ±nƒ±z</h3>
      <div class="amount"><span id="balance">0.0000</span> ‚Çº</div>
      <div class="usd">$<span id="balanceUSD">0.0000</span> USDT</div>
    </div>

    <div class="ad-card">
      <h2 data-translate-key="dailyAds">G√ºnl√ºk Reklamlar</h2>
      <p data-translate-key="adReward">H…ôr reklama g√∂r…ô <b>0.005 ‚Çº</b> qazanƒ±n</p>
      <div class="stats">
        <div class="stat"><span id="adsCount">0</span><label data-translate-key="watched">ƒ∞zl…ôn…ôn</label></div>
        <div class="stat"><span data-translate-key="maxCount">100</span><label data-translate-key="maximum">Maksimum</label></div>
      </div>
      <div class="progress"><div class="progress-fill" id="progress"></div></div>
      <p style="margin-top:10px; font-weight: 600;" data-translate-key="progressText">ƒ∞r…ôlil…ôyi≈ü: <span id="progressTextSpan">0/100</span></p>
      <button id="adBtn" class="ad-btn" data-translate-key="watchAd">Reklam ƒ∞zle v…ô Qazan</button>
      <div id="msg" style="margin-top:10px; color: var(--accent); font-weight: 700;"></div>
    </div>
  </div>

  <div id="tasksPage" class="page">
    <div class="task-card">
      <h2 data-translate-key="premiumTask">Premium Tap≈üƒ±rƒ±q</h2>
      <p data-translate-key="taskReward1">Telegram kanala qo≈üul v…ô <b>0.1 ‚Çº</b> qazan!</p>
      <button id="joinBtn" data-translate-key="joinChannel">Kanala Qo≈üul</button>
    </div>
    <div class="task-card">
      <h2 data-translate-key="bonusTask">Bonus Tap≈üƒ±rƒ±q</h2>
      <p data-translate-key="taskReward2">Telegram qrupa qo≈üul v…ô <b>0.1 ‚Çº</b> qazan!</p>
      <button id="joinBtn2" data-translate-key="joinGroup">Qrupa Qo≈üul</button>
    </div>
    <div class="task-card">
      <h2 data-translate-key="bonusTask">Bonus Tap≈üƒ±rƒ±q</h2>
      <p data-translate-key="taskReward3">Kanala qo≈üul v…ô <b>0.15 ‚Çº</b> qazan!</p>
      <button id="joinBtn3" data-translate-key="joinChannel">Kanala Qo≈üul</button>
    </div>
    <div class="task-card">
      <h2 data-translate-key="sponsorTask">Sponsor Tap≈üƒ±rƒ±q</h2>
      <p data-translate-key="taskReward4">Kanala qo≈üul v…ô <b>0.05 ‚Çº</b> qazan!</p>
      <button id="joinBtn4" data-translate-key="joinChannel">Kanala Qo≈üul</button>
    </div>
  </div>

  <div id="walletPage" class="page">
    <div class="balance-card">
      <h3 data-translate-key="withdrawBalance">√áƒ±xarƒ±≈ü Balansƒ±</h3>
      <div class="amount"><span id="balance2">0.0000</span> ‚Çº</div>
      <div class="usd">$<span id="balanceUSD2">0.0000</span> USDT</div>
    </div>
    <h2 style="text-align:center;margin-bottom:20px;font-weight: 900;" data-translate-key="selectMethod">√áƒ±xarƒ±≈ü Metodunu Se√ßin</h2>
    <div class="method-list" id="methods">
      
      <div class="method" data-type="m10">
          <img src="https://i.postimg.cc/Kj94hVNG/unnamed.png" alt="M10 Logo" class="method-logo">
          <span class="method-text">M10</span>
      </div>
      <div class="method" data-type="azercell">
          <img src="https://i.postimg.cc/qM5gmPqZ/applogo512.png" alt="Azercell Logo" class="method-logo">
          <span class="method-text">Azercell</span>
      </div>
      <div class="method" data-type="bakcell">
          <img src="https://i.postimg.cc/Pqmx5N49/images.jpg" alt="Bakcell Logo" class="method-logo">
          <span class="method-text">Bakcell</span>
      </div>
      <div class="method" data-type="nar">
          <img src="https://i.postimg.cc/4NmxhWPy/images.png" alt="Nar Logo" class="method-logo">
          <span class="method-text">Nar</span>
      </div>
      <div class="method" data-type="bank">
          <img src="https://i.postimg.cc/L6H0yWwZ/42492-bank-1024.png" alt="Bank Logo" class="method-logo bank-logo">
          <span class="method-text" data-translate-key="bankCard">Bank Kartƒ±</span>
      </div>
      <div class="method" data-type="usdt">
          <img src="https://i.postimg.cc/X7HxsY98/Tether-USDT-Logo.png" alt="USDT Logo" class="method-logo">
          <span class="method-text">USDT (TON)</span>
      </div>
    </div>
    <div class="form" id="form">
      <button id="backBtn" style="background:none;border:none;">‚¨Ö <span data-translate-key="back">Geri</span></button>
      <input id="details" placeholder="">
      <input id="amount" type="number" data-placeholder-az="M…ôbl…ôƒü (AZN)" data-placeholder-en="Amount (AZN)" placeholder="M…ôbl…ôƒü (AZN)">
      <button id="withdrawBtn" data-translate-key="withdraw">√áƒ±xarƒ±≈ü Et</button>
      <div id="alert" class="alert"></div>
    </div>
  </div>

</div>

<div class="menu">
  <button onclick="showPage('adsPage',this)" class="active" data-translate-key="home">Ev</button>
  <button onclick="showPage('tasksPage',this)" data-translate-key="tasks">G√∂revler</button>
  <button onclick="showPage('walletPage',this)" data-translate-key="wallet">C√ºzdan</button>
</div>
<script>
// --- T∆èRC√úM∆è M∆èLUMATLARI (Dƒ∞L S√ñZL√úY√ú) ---
const TRANSLATIONS = {
    'az': {
        pageTitle: 'Qazanc AZ | Neon Dizayn',
        loading: 'Y√ºkl…ônir...',
        currentBalance: 'Cari Balansƒ±nƒ±z',
        withdrawBalance: '√áƒ±xarƒ±≈ü Balansƒ±',
        dailyAds: 'G√ºnl√ºk Reklamlar',
        adReward: 'H…ôr reklama g√∂r…ô <b>0.005 ‚Çº</b> qazanƒ±n',
        watched: 'ƒ∞zl…ôn…ôn',
        maximum: 'Maksimum',
        maxCount: '100',
        progressText: 'ƒ∞r…ôlil…ôyi≈ü: ',
        watchAd: 'Reklam ƒ∞zle v…ô Qazan',
        adLimitReached: 'üì£ G√ºnd…ôlik limit…ô √ßatdƒ±nƒ±z!',
        watching: 'ƒ∞zl…ônir...',
        rewardAdded: '‚úÖ +0.005 ‚Çº …ôlav…ô olundu!',
        wait: '‚è≥ {s} saniy…ô g√∂zl…ôyin...',
        premiumTask: 'Premium Tap≈üƒ±rƒ±q',
        bonusTask: 'Bonus Tap≈üƒ±rƒ±q',
        sponsorTask: 'Sponsor Tap≈üƒ±rƒ±q',
        taskReward1: 'Telegram kanala qo≈üul v…ô <b>0.1 ‚Çº</b> qazan!',
        taskReward2: 'Telegram qrupa qo≈üul v…ô <b>0.1 ‚Çº</b> qazan!',
        taskReward3: 'Kanala qo≈üul v…ô <b>0.15 ‚Çº</b> qazan!',
        taskReward4: 'Kanala qo≈üul v…ô <b>0.05 ‚Çº</b> qazan!',
        joinChannel: 'Kanala Qo≈üul',
        joinGroup: 'Qrupa Qo≈üul',
        selectMethod: '√áƒ±xarƒ±≈ü Metodunu Se√ßin',
        bankCard: 'Bank Kartƒ±',
        back: 'Geri',
        withdraw: '√áƒ±xarƒ±≈ü Et',
        methodError: 'Metod se√ßin',
        detailsError: 'Detallarƒ± daxil edin',
        amountError: 'M…ôbl…ôƒüi d√ºzg√ºn daxil edin',
        minAmount: 'Minimum m…ôbl…ôƒü {min} AZN',
        balanceError: 'Balans kifay…ôt etmir',
        withdrawSuccess: '‚úÖ √áƒ±xarƒ±≈ü g√∂nd…ôrildi! 48 saat …ôrzind…ô yerin…ô yetiril…ôc…ôk.',
        home: 'Ev',
        tasks: 'G√∂revler',
        wallet: 'C√ºzdan',
    },
    'en': {
        pageTitle: 'Qazanc AZ | Neon Design',
        loading: 'Loading...',
        currentBalance: 'Current Balance',
        withdrawBalance: 'Withdrawal Balance',
        dailyAds: 'Daily Ads',
        adReward: 'Earn <b>0.005 ‚Çº</b> for each ad',
        watched: 'Watched',
        maximum: 'Maximum',
        maxCount: '100',
        progressText: 'Progress: ',
        watchAd: 'Watch Ad and Earn',
        adLimitReached: 'üì£ Daily limit reached!',
        watching: 'Watching...',
        rewardAdded: '‚úÖ +0.005 ‚Çº added!',
        wait: '‚è≥ Wait {s} seconds...',
        premiumTask: 'Premium Task',
        bonusTask: 'Bonus Task',
        sponsorTask: 'Sponsor Task',
        taskReward1: 'Join Telegram channel and earn <b>0.1 ‚Çº</b>!',
        taskReward2: 'Join Telegram group and earn <b>0.1 ‚Çº</b>!',
        taskReward3: 'Join channel and earn <b>0.15 ‚Çº</b>!',
        taskReward4: 'Join channel and earn <b>0.05 ‚Çº</b>!',
        joinChannel: 'Join Channel',
        joinGroup: 'Join Group',
        selectMethod: 'Select Withdrawal Method',
        bankCard: 'Bank Card',
        back: 'Back',
        withdraw: 'Withdraw',
        methodError: 'Select a method',
        detailsError: 'Enter details',
        amountError: 'Enter correct amount',
        minAmount: 'Minimum amount {min} AZN',
        balanceError: 'Insufficient balance',
        withdrawSuccess: '‚úÖ Withdrawal sent! It will be executed within 48 hours.',
        home: 'Home',
        tasks: 'Tasks',
        wallet: 'Wallet',
    }
};

// --- GLOBAL D∆èYƒ∞≈û∆èNL∆èR V∆è LOCAL STORAGE FUNKSƒ∞YALARI ---
const LIMIT = 100, REWARD = 0.005;
const BAL_KEY='bal',COUNT_KEY='cnt',RESET_KEY='resetTime';
const JOIN_KEY='joined',JOIN_KEY2='joined2',JOIN_KEY3='joined3',JOIN_KEY4='joined4';

function safeGet(k,d=0){try{return JSON.parse(localStorage.getItem(k))??d;}catch{return d;}}
function safeSet(k,v){try{localStorage.setItem(k,JSON.stringify(v));}catch(e){}}

// Balans v…ô Sayƒüac m…ôlumatlarƒ±nƒ±n ilkin y√ºkl…ônm…ôsi
let bal=parseFloat(safeGet(BAL_KEY,0));
let cnt=parseInt(safeGet(COUNT_KEY,0));
let resetTime=safeGet(RESET_KEY,null);

// Reset M…ôntiqi
function getNextResetTime(){
  const now=new Date();
  const AZ_OFFSET=4;
  let resetUTC=new Date(Date.UTC(
    now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(),
    23-AZ_OFFSET,0,0,0
  ));
  if(now.getTime()>resetUTC.getTime()){resetUTC.setUTCDate(resetUTC.getUTCDate()+1);}
  return resetUTC.getTime();
}

if(!resetTime||Date.now()>resetTime){
  cnt=0;
  resetTime=getNextResetTime();
  safeSet(RESET_KEY,resetTime);
  safeSet(COUNT_KEY,cnt);
}

// --- Dƒ∞L M∆èNTƒ∞Qƒ∞ ---
let currentLang = localStorage.getItem('lang') || 'az';

function setLang(lang) {
    currentLang = lang;
    localStorage.setItem('lang', lang);
    applyTranslations(lang);
    
    // Dil d√ºym…ôl…ôrini aktiv et/deaktiv et
    document.getElementById('langAzBtn').classList.remove('active');
    document.getElementById('langEnBtn').classList.remove('active');
    document.getElementById(`lang${lang.charAt(0).toUpperCase() + lang.slice(1)}Btn`).classList.add('active');
}

function applyTranslations(lang) {
    const t = TRANSLATIONS[lang];
    if (!t) return;

    document.getElementById('pageTitle').textContent = t.pageTitle;

    document.querySelectorAll('[data-translate-key]').forEach(el => {
        const key = el.getAttribute('data-translate-key');
        if (t[key]) {
            el.innerHTML = t[key];
        }
    });

    const progressText = document.getElementById('progressText');
    if(progressText) {
        progressText.innerHTML = t.progressText + `<span id="progressTextSpan">${cnt}/${LIMIT}</span>`;
    }
    
    const amountInput = document.getElementById('amount');
    if (amountInput) {
        amountInput.placeholder = amountInput.getAttribute(`data-placeholder-${lang}`) || (lang === 'az' ? 'M…ôbl…ôƒü (AZN)' : 'Amount (AZN)');
    }
    
    updateTaskButtons(); 
    
    const currentMsgText = msg.textContent.trim();
    if(currentMsgText.includes('limit') || currentMsgText.includes('reached') || currentMsgText.includes('G√ºnd…ôlik')) {
        msg.textContent = t.adLimitReached;
    } else if (currentMsgText.includes('…ôlav…ô olundu') || currentMsgText.includes('added') || currentMsgText.includes('0.005')) {
         msg.textContent = t.rewardAdded;
    }
}

function updateTaskButtons() {
    const completedText = currentLang === 'az' ? 'Tamamlandƒ±' : 'Completed';
    [JOIN_KEY, JOIN_KEY2, JOIN_KEY3, JOIN_KEY4].forEach((key, index) => {
        const btnId = `joinBtn${index > 0 ? index : ''}`;
        const btn = document.getElementById(btnId);
        if (btn && localStorage.getItem(key)) {
            btn.textContent = completedText;
        } else if (btn) {
             const key = btn.getAttribute('data-translate-key');
             if(TRANSLATIONS[currentLang][key]) {
                 btn.textContent = TRANSLATIONS[currentLang][key];
             }
        }
    });
}

// --- BALANSIN YENƒ∞L∆èNM∆èSƒ∞ V∆è G√ñR√úN√ú≈û M∆èNTƒ∞Qƒ∞ ---

function update(){
  document.getElementById('balance').textContent=bal.toFixed(4);
  document.getElementById('balance2').textContent=bal.toFixed(4);
  const usdt=bal/1.7; 
  document.getElementById('balanceUSD').textContent=usdt.toFixed(4);
  document.getElementById('balanceUSD2').textContent=usdt.toFixed(4);
  document.getElementById('adsCount').textContent=cnt;
  document.getElementById('progress').style.width=(cnt/LIMIT*100)+'%';
  const progressTextSpan = document.getElementById('progressTextSpan');
  if(progressTextSpan) progressTextSpan.textContent=`${cnt}/${LIMIT}`;
  safeSet(BAL_KEY,bal);
  safeSet(COUNT_KEY,cnt);
}

// --- S∆èHƒ∞F∆è NAVƒ∞QASƒ∞YASI ---
function showPage(id, btn){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('.menu button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
}

// --- ADSA V∆è TAP≈ûIRIQLAR M∆èNTƒ∞Qƒ∞ ---
const adBtn=document.getElementById('adBtn'), msg=document.getElementById('msg');

adBtn.onclick=()=>{
  const t = TRANSLATIONS[currentLang];
  if(cnt>=LIMIT){ msg.textContent=t.adLimitReached; return; }
  adBtn.disabled=true; adBtn.classList.add('waiting');
  msg.innerHTML=`<span>${t.watching}</span><div id="timerBar" style="height:6px;width:0%;background:var(--accent);border-radius:4px;margin-top:6px;"></div>`;
  try{if(typeof show_10024800==='function'){show_10024800();}}catch(e){} 
  setTimeout(()=>{
    bal+=REWARD; cnt++; update(); msg.innerHTML=t.rewardAdded;
    let s=10;
    const timerText = t.wait;
    const tInterval=setInterval(()=>{
      s--;
      const timerBar=document.getElementById('timerBar');
      if(timerBar){timerBar.style.width=`${(10-s)/10*100}%`;}
      msg.innerHTML=timerText.replace('{s}', s)+`<div id="timerBar" style="height:6px;width:${(10-s)/10*100}%;background:var(--accent);border-radius:4px;margin-top:6px;"></div>`;
      if(s<=0){clearInterval(tInterval);adBtn.disabled=false;adBtn.classList.remove('waiting');msg.textContent='';}
    },1000);
  },2500);
};

const taskButtons = [
    { id: 'joinBtn', key: JOIN_KEY, reward: 0.1, url: 'https://t.me/qazancazicmasi' },
    { id: 'joinBtn2', key: JOIN_KEY2, reward: 0.1, url: 'https://t.me/qazancazchat' },
    { id: 'joinBtn3', key: JOIN_KEY3, reward: 0.15, url: 'https://t.me/turaldevelopers' },
    { id: 'joinBtn4', key: JOIN_KEY4, reward: 0.05, url: 'https://t.me/ads_reklam69' }
];

taskButtons.forEach(task => {
    const btn = document.getElementById(task.id);
    // Y√ºkl…ôn…ônd…ô statusu t…ôtbiq etm…ôk (updateTaskButtons funksiyasƒ±nƒ±n i≈üini d…ôst…ôkl…ôyir)
    if (localStorage.getItem(task.key)) {
        btn.classList.add('completed');
        btn.disabled = true;
    }
    btn.onclick = () => {
        if (localStorage.getItem(task.key)) return;
        bal += task.reward;
        safeSet(BAL_KEY, bal);
        localStorage.setItem(task.key, '1');
        btn.classList.add('completed');
        btn.disabled = true;
        window.open(task.url, '_blank');
        update();
        updateTaskButtons(); // D√ºym…ô m…ôtnini yenil…ôm…ôk √º√ß√ºn
    };
});


// --- √áIXARI≈û M∆èNTƒ∞Qƒ∞ ---
const methods = document.querySelectorAll('.method');
const form = document.getElementById('form');
const details = document.getElementById('details');
const amount = document.getElementById('amount');
const alertBox = document.getElementById('alert');
let type = '';

const min = { m10:10, azercell:10, bakcell:10, nar:10, bank:10, usdt:17 };
const ph = { m10:'10 r…ôq…ômli M10 n√∂mr…ôsi', azercell:'050/051xxxxxxx', bakcell:'055xxxxxxx', nar:'070/077xxxxxxx', bank:'16 r…ôq…ômli kart n√∂mr…ôsi', usdt:'TON adresi (minimum $10)' };

function setPlaceholders(methodType) {
    details.placeholder = ph[methodType];
    amount.placeholder = amount.getAttribute(`data-placeholder-${currentLang}`) || (currentLang === 'az' ? 'M…ôbl…ôƒü (AZN)' : 'Amount (AZN)');
}

methods.forEach(m=>{
  m.onclick=()=>{
    type=m.dataset.type;
    document.getElementById('methods').style.display='none';
    form.style.display='block';
    setPlaceholders(type);
    details.value='';
    amount.value='';
    alertBox.style.display='none';
  };
});

document.getElementById('backBtn').onclick=()=>{
  form.style.display='none';
  document.getElementById('methods').style.display='flex';
  alertBox.style.display='none';
  type='';
};

document.getElementById('withdrawBtn').onclick=()=>{
  const det = details.value.trim();
  const amt = parseFloat(amount.value);
  alertBox.style.display='none';
  const t = TRANSLATIONS[currentLang];

  if(!type){ showErr(t.methodError); return; }
  if(!det){ showErr(t.detailsError); return; }
  if(isNaN(amt) || amt <= 0){ showErr(t.amountError); return; }
  if(amt < min[type]){ showErr(t.minAmount.replace('{min}', min[type])); return; }
  if(amt > bal){ showErr(t.balanceError); return; }

  // √áƒ±xarƒ±≈üƒ±n g√∂nd…ôrilm…ôsi simulyasiyasƒ±
  bal -= amt;
  safeSet(BAL_KEY,bal);
  update();

  alertBox.textContent=t.withdrawSuccess;
  alertBox.className='alert success';
  alertBox.style.display='block';

  // Formanƒ± baƒüla v…ô metodlarƒ± geri g√∂st…ôr
  setTimeout(()=>{
    form.style.display='none';
    document.getElementById('methods').style.display='flex';
    alertBox.style.display='none';
    type='';
  }, 2000);
  
};

function showErr(msg){
  alertBox.textContent=msg;
  alertBox.className='alert error';
  alertBox.style.display='block';
}

// --- ƒ∞LKƒ∞N Y√úKL∆èNM∆è V∆è LOADING SCREEN M∆èNTƒ∞Qƒ∞ ---

// Dili t…ôtbiq et v…ô m…ôlumatlarƒ± yenil…ô
update();
setLang(currentLang); 

// Loading Screen-i baƒüla
setTimeout(()=>{
  const s=document.getElementById("loadingScreen");
  s.style.opacity="0";
  setTimeout(()=>s.style.display="none",700);
},3000); // 3 saniy…ôd…ôn sonra baƒüla
</script>
</body>
</html>
